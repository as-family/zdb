// SPDX-License-Identifier: AGPL-3.0-or-later
/*
 * ZDB a distributed, fault-tolerant database.
 * Copyright (C) 2025 Ahmed Refaat Gadalla Mohamed
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License along with this program. If not, see <https://www.gnu.org/licenses/>.
 */

syntax = "proto3";

package zdb.kvStore;
import "proto/types.proto";

service KVStoreService {
    rpc get(GetRequest) returns (GetReply) {}
    rpc set(SetRequest) returns (SetReply) {}
    rpc erase(EraseRequest) returns (EraseReply) {}
    rpc size(SizeRequest) returns (SizeReply) {}
}

message GetRequest {
    zdb.proto.Key key = 1;
    zdb.proto.RequestID requestID = 2;
}

message GetReply {
    zdb.proto.Value value = 1;
}

message SetRequest {
    zdb.proto.Key key = 1;
    zdb.proto.Value value = 2;
    zdb.proto.RequestID requestID = 3;
}

message SetReply {
}

message EraseRequest  {
    zdb.proto.Key key = 1;
    zdb.proto.RequestID requestID = 2;
}

message EraseReply {
    zdb.proto.Value value = 1;
}

message SizeRequest {
    zdb.proto.RequestID requestID = 1;
}

message SizeReply {
    uint64 size = 1;
}
